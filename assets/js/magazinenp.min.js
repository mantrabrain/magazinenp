jQuery(function(s){var o;({init:function(){this.initEvents(),this.iniNav(),this.initSearch(),this.initGoToTop(),this.initTicker(),this.matchHeight(),this.initSlider(),this.initSticky(),this.initStickyMenu(),this.initAccessibility(),this.keyPressInit()},initEvents:function(){var a=this;s(document).on("magazinenp_focus_inside_element",function(t,e,n,i){s("#"+e).find(n).focus();var o=document.getElementById(e);a.trapFocus(o,i)})},iniNav:function(){s(".mnp-top-header-nav-menu-toggle").on("click",function(){s(".mnp-top-header .mnp-top-header-nav").toggleClass("toggled-link-on")}),s(".main-navigation").find(".sub-menu, .children").before('<span class="dropdown-toggle"><button class="dropdown-icon"></button></span>'),s(".main-navigation").find(".sub-menu, .children").parent().addClass("dropdown-parent"),s(".main-navigation").find(".dropdown-toggle").on("click",function(t){t.preventDefault(),s(this).next(".sub-menu, .children").toggleClass("dropdown-active"),s(this).toggleClass("toggle-on")}),s(window).on("load resize",function(){992<=s(window).outerWidth()&&(s(".main-navigation").find(".sub-menu.dropdown-active, .children.dropdown-active").removeClass("dropdown-active"),s(".main-navigation").find(".dropdown-toggle.toggle-on").removeClass("toggle-on"))}),s("#navbarCollapse").on("shown.bs.collapse",function(){var t="navbarCollapse";s("#"+t).addClass("mnp-navbar-open"),s("#"+t).find("a").eq(0).focus(),s(document).trigger("magazinenp_focus_inside_element",[t,"#navbarCollapse a:first-child","show"])})},initSearch:function(){s(".search-toggle").on("click",function(t){var e=t,n=s(this),i=s(".search-toggle"),o=s(".search-block");i.toggleClass("active"),o.toggleClass("off").toggleClass("on"),s(".search-block.on").fadeIn("slow",function(){if(n.hasClass("active")){(i.is(".active")||s(".search-toggle")[0]===e.target)&&o.find(".s").focus();var t="magazinenp-search-block";s("#"+t).addClass("magazinenp-searchbox-open"),s(document).trigger("magazinenp_focus_inside_element",[t,"#magazinenp-search-block input.form-control.s","on"])}}),s(".search-block.off").fadeOut(),s(document).on("keydown",function(t){27===t.keyCode&&i.hasClass("active")&&(i.removeClass("active"),o.addClass("off").removeClass("on"),s(".search-block.off").fadeOut())})})},initGoToTop:function(){s(".back-to-top").hide(),s(window).scroll(function(){1e3<s(this).scrollTop()?s(".back-to-top").fadeIn():s(".back-to-top").fadeOut()}),s(".back-to-top a").on("click",function(){return s("body,html,header").animate({scrollTop:0},800),!1})},initTicker:function(){s(".mnp-news-ticker-slide").length<1||s(".mnp-news-ticker-slide").marquee({speed:50,gap:0,delayBeforeStart:0,direction:"left",duplicated:!0,pauseOnHover:!0,startVisible:!0})},matchHeight:function(){s(".featured-section .title-wrap").length<1||s(".featured-section .title-wrap").matchHeight({property:"min-height"})},initSlider:function(){s(".owl-carousel").length<1||(s(".owl-carousel.mnp-owl-before").removeClass("mnp-owl-before"),s(".featured-slider .owl-carousel").owlCarousel({loop:!0,margin:0,nav:!0,navText:["",""],autoplay:!0,dots:!1,smartSpeed:800,autoHeight:!0,autoplayTimeout:5500,responsive:{0:{items:1}}}),s(".related-posts .owl-carousel").owlCarousel({loop:!0,margin:15,nav:!0,navText:["",""],autoplay:!0,dots:!1,smartSpeed:800,autoHeight:!0,autoplayTimeout:5500,responsive:{0:{items:1},480:{items:1},768:{items:2},992:{items:4}}}))},initSticky:function(){s(window).load(function(){if(!(s(".sticky-sidebar").length<1)){var t=0,e=s(".site-content-row")[0],n=s("#wpadminbar").outerHeight(),i=s(window).outerWidth(),o=20+n;if(e)t=s("body.theme-body").outerHeight()+s("body.theme-body").offset().top-s(".site-content-row").offset().top-s(".site-content-row").outerHeight();992<=i&&(n?s(".sticky-sidebar").sticky({topSpacing:o,bottomSpacing:t}):s(".sticky-sidebar").sticky({topSpacing:20,bottomSpacing:t}))}})},initStickyMenu:function(){s(window).load(function(){var t=jQuery("#wpadminbar");t.length?s(document).width()<601?s(".mnp-bottom-header.mnp-sticky").sticky({topSpacing:0,zIndex:99}):s(".mnp-bottom-header.mnp-sticky").sticky({topSpacing:t.height(),zIndex:99}):s(".mnp-bottom-header.mnp-sticky").sticky({topSpacing:0,zIndex:99})})},initAccessibility:function(){var t=s(".main-navigation ul.nav-menu");t.find("li.menu-item, li.page_item").focusin(function(){s(this).hasClass("focus")||s(this).addClass("focus")}),t.find("li.menu-item, li.page_item").focusout(function(){s(this).removeClass("focus")})},trapFocus:function(e,n){var t=e.querySelectorAll('a[href]:not([disabled]), button:not([disabled]), textarea:not([disabled]), input[type="text"]:not([disabled]), input[type="search"]:not([disabled]), input[type="radio"]:not([disabled]), input[type="checkbox"]:not([disabled]), select:not([disabled])'),i=t[0];o=t[t.length-1];e.addEventListener("keydown",function(t){("Tab"===t.key||9===t.keyCode)&&(e.classList.contains(n)?t.shiftKey?document.activeElement===i&&(o.focus(),t.preventDefault()):document.activeElement===o&&(i.focus(),t.preventDefault()):e.removeEventListener("keydown",this))})},keyPressInit:function(){s(document).keydown(function(t){27===(t.keyCode||t.which)&&s("button.navbar-toggler.menu-toggle:not(.collapsed)").trigger("click")})}}).init()});